<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>机器管理</title>
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="stylesheet" href="../lib/layui-v2.5.4/css/layui.css"
	media="all">
<link rel="stylesheet" href="../css/public.css" media="all">
</head>
<body>
		<table class="layui-hide" id="currentTableId"
				lay-filter="currentTableFilter"></table>
	<script src="../lib/jquery-3.4.1/jquery-3.4.1.min.js"></script>
	<script src="../lib/layui-v2.5.4/layui.js" charset="utf-8"></script>

	<script>
		var url = 'http://localhost:8666/iclock/';
		layui.use(
						[ 'form', 'table' ],
						function() {
							var $ = layui.jquery, form = layui.form, table = layui.table;

							table.render({
								elem : '#currentTableId',
								url : url + "kaoqin/deviceList",
								cols : [ [ 
									 {
											field : 'device_id',
											title : 'device_id',
											align : 'center'
										}, {
									field : 'device_sn',
									width : '150',
									title : 'device_sn',
								},{
									field : 'device_name',
									width : '250',
									title : 'device_name',
									align : 'center'
								}, {
									field : 'state',
									title : 'state',
									 templet: function (d) {
					                        if (d.state == "connecting") {
					                            return '<span class="layui-badge layui-bg-blue">connecting</span>';
					                        }else if(d.state == "connection"){
					                        	 return '<span class="layui-badge layui-bg-red">connection</span>';
					                        }
					                        else {
					                        	  return '<span class="layui-badge layui-bg-gray">Online</span>'; 
					                        }
					                    },
									align : 'center'
								}, {
									field : 'last_activity',
									title : 'last_activity',
									width : '180',
									align : 'center'
								}, {
									field : 'user_count',
									title : 'user_count',
									align : 'center'
								}, {
									field : 'act_user_count',
									title : 'act_user_count',
									align : 'center'
								}, {
									field : 'act_fp_count',
									title : 'act_fp_count',
									align : 'center'
								}, {
									field : 'face_count',
									title : 'face_count',
									align : 'center'
								}, {
									field : 'act_face_count',
									title : 'act_face_count',
									align : 'center'
								}, {
									field : 'trans_count',
									title : 'trans_count',
									align : 'center'
								}, {
									field : 'act_trans_count',
									title : 'act_trans_count',
									align : 'center'
								}, {
									field : 'dev_funs',
									title : 'dev_funs',
									align : 'center'
								}
								 ] ],
								cellMinWidth : 130,
								limits : [ 10, 15, 20, 25, 50, 100 ],
								limit : 15,
								page : true
							});

						});
	</script>


</body>
</html>